<!doctype html>
<html lang="en">
{%load static%}

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="{% static './asasqx_53.jpg' %}" type="image/x-icon">
    <!-- TAILWIND CSS -->
    <script src="https://cdn.tailwindcss.com/3.4.0"></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    typography: (theme) => ({
                        DEFAULT: {
                            css: {
                                'th, td': {
                                    /* Atur jumlah baris maksimum */
                                    WebkitLineClamp: theme('maxLines.tableCell'), // Safari and Chrome
                                    '-webkit-box-orient': 'vertical', // Safari and Chrome
                                    display: '-webkit-box', // Safari and Chrome
                                    overflow: 'hidden',
                                },
                            },
                        },
                    }),
                    maxLines: {
                        tableCell: 2, // Atur jumlah baris maksimum untuk sel tabel
                    },
                    colors: {
                        primaryText: '#64748B',
                        primaryColor: '#3B82F6',
                        secondaryColor: '#0284C7'
                    },
                    fontFamily: {
                        inter: ["Inter", "sans-serif"],
                    }
                }
            }
        }
    </script>

    <style>
        .sidebar-link-collapse {
            display: block;
              /* padding: 10px; */
              text-decoration: none;
              color: #64748B;
        
        }
        .sidebar-link-collapse.active {
            color:white !important;
            background-color: rgb(59 130 246);
        }
    
        .sidebar-link.active {
            color:white !important;
            background-color: rgb(59 130 246);
        }
          
        /* Scrollbar Styling */
        ::-webkit-scrollbar {
            width: 17px;
        }
    
        ::-webkit-scrollbar-track {
            background-color: transparent;
        }
    
        ::-webkit-scrollbar-thumb {
            background-color: #d6dee1;
            border-radius: 20px;
            border: 6px solid transparent;
            background-clip: content-box;
        }
    
        ::-webkit-scrollbar-thumb:hover {
            background-color: #a8bbbf;
        }

        .loader {
            width: 10px;
            padding: 8px;
            aspect-ratio: 1/1;
            border-radius: 50%;
            background: #0e82da;
            margin: 15px 0px 0px 9px;
            --_m:
                conic-gradient(#0000 10%, #000),
                linear-gradient(#000 0 0) content-box;
            -webkit-mask: var(--_m);
            mask: var(--_m);
            -webkit-mask-composite: source-out;
            mask-composite: subtract;
            animation: l3 1s infinite linear;
        }

        .loader-check {
            width: 10px;
            padding: 8px;
            aspect-ratio: 1/1;
            border-radius: 50%;
            background: #0e82da;
            margin: 10px 0px 0px 9px;
            --_m:
                conic-gradient(#0000 10%, #000),
                linear-gradient(#000 0 0) content-box;
            -webkit-mask: var(--_m);
            mask: var(--_m);
            -webkit-mask-composite: source-out;
            mask-composite: subtract;
            animation: l3 1s infinite linear;
        }

        @keyframes l3 {
            to {
                transform: rotate(1turn)
            }
        }

        .sweet-alert-border-radius .swal2-popup {
            border-radius: 15px !important;
        }

        .highcharts-credits {
            display: none;
        }

        #tabs {
            display: flex;
            border-bottom: 1px solid #e2e8f0;
        }

        #tabs a {
            text-decoration: none;
            color: #4a90e2;
            background-color: #f7fafc;
            padding: 12px 20px;
            border-top-left-radius: 0.375rem;
            border-top-right-radius: 0.375rem;
            border: 1px solid transparent;
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out;
        }

        #tabs a.active {
            color: #ffffff;
            background-color: #4a90e2;
            border-color: #4a90e2;
        }

        #tabs a:hover {
            background-color: #edf2f7;
            color: #2d3748;
            border-color: #e2e8f0;
        }

        #bagian-bagian {
            display: flex;
            border-bottom: 1px solid #e2e8f0;
        }

        #bagian-bagian a {
            text-decoration: none;
            color: #4a90e2;
            background-color: #f7fafc;
            padding: 12px 20px;
            border-top-left-radius: 0.375rem;
            border-top-right-radius: 0.375rem;
            border: 1px solid transparent;
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out, border-color 0.2s ease-in-out;
        }

        #bagian-bagian a.active {
            color: #ffffff;
            background-color: #4a90e2;
            border-color: #4a90e2;
        }

        #bagian-bagian a:hover {
            background-color: #edf2f7;
            color: #2d3748;
            border-color: #e2e8f0;
        }

        #tabs-fa-regster-lc a.active {
            color: #ffffff;
            background-color: #4a90e2;
            border-color: #4a90e2;
        }

        #tabs-fa-regster-lc a:hover {
            background-color: #edf2f7;
            color: #2d3748;
            border-color: #e2e8f0;
        }

        .select2-container--default .select2-selection--single {
            padding-right: 12px;
            padding-left: 12px;
            padding-top: 8px;
            padding-bottom: 8px;
            display: flex !important;
            align-items: center !important;
            height: 40px !important;
            font-size: 16px !important;
        }

        .select2-selection__arrow {
            top: 8px !important;
            right: 10px !important;
        }
    </style>

    {% block css %}
    {% endblock css %}

    <!-- GOOGLE FONT -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap"
        rel="stylesheet"> -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback" />
    <link rel="stylesheet" type="text/css" href="https://printjs-4de6.kxcdn.com/print.min.css">
    <!-- ASET CSS -->
    <link rel="preload" as="style" href="{% static './css/app-e2100fa4.css' %}" />
    <link rel="stylesheet" href="{% static './css/app-e2100fa4.css' %}" />

    <!-- <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script> -->
    <script src="//unpkg.com/alpinejs" defer></script>

    <!-- iziToast -->
    <link href="https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/css/iziToast.min.css" rel="stylesheet">

    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- SWEET ALERT -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.10.5/sweetalert2.min.css"
        integrity="sha512-OWGg8FcHstyYFwtjfkiCoYHW2hG3PDWwdtczPAPUcETobBJOVCouKig8rqED0NMLcT9GtE4jw6IT1CSrwY87uw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel='stylesheet'
        href='https://cdn-uicons.flaticon.com/2.1.0/uicons-regular-rounded/css/uicons-regular-rounded.css'>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <title>Mts Peradaban Insani - {% block title %}
    {% endblock title %}</title>
</head>

<body class="main-layout" x-bind:class="{
    mainMenuExpanded: mainMenu.isExpanded,
    mainMenu2Expanded: mainMenu2.isExpanded,
    userMenuExpanded: userMenu.isExpanded,
    menuExpanded: menu.isExpanded,
}" x-data="{
    mainMenu: {
        isExpanded: false
    },
    mainMenu2:{
        isExpanded:true
    },
    userMenu: {
        isExpanded: false
    },
    menu: {
        isExpanded: false
    },
}">
    <div class="flex h-screen">
        {% if request.user.abstract_user.role == 'guru' %}
            {% include "partials/sidebar.html"%}
        {% endif %}


        <div class="flex-1 h-screen overflow-auto absolute w-screen sm:static">
            <nav class="bg-white border-b-2">
                <div class="container mx-auto flex items-center justify-between py-5 px-5 sm:py-2 sm:px-10">
                    <div class="flex items-center gap-2">
                        <button x-on:click="mainMenu.isExpanded = !mainMenu.isExpanded" class="flex-none w-6 md:hidden">
                            <img x-show="mainMenu.isExpanded" src="{% static './layouts/main/sidebar-open.svg' %}"
                                alt="icon" loading="lazy">
                            <img x-show="!mainMenu.isExpanded" src="{% static './layouts/main/sidebar-close.svg' %}"
                                alt="icon" loading="lazy">
                        </button>

                        <h1 class="font-semibold text-xl text-black font-inter uppercase">
                            {% block menuName %} {% endblock %}
                        </h1>
                    </div>

                    <div class="flex items-center gap-4">

                        <div class="relative">
                            <button x-on:click="userMenu.isExpanded = !userMenu.isExpanded"
                                class="flex items-center md:px-3 md:py-1 bg-white  rounded-full md:border md:border-[#E2E8F0]">
                                <img src="{% static './layouts/apps/admin/avatar.png' %}" alt="avatar" class="mr-2"
                                    loading="lazy">

                                <div class="flex-col items-start justify-start hidden md:flex">

                                    <span class="text-sm font-semibold">
                                       {{request.user.abstract_user.first_name}} {{request.user.abstract_user.last_name}}
                                    </span>
                                    <span class="text-xs font-semibold text-[#64748B] uppercase">
                                        {{request.user.abstract_user.role}}
                                    </span>
                                </div>
                            </button>

                            {% include "partials/alerts.html" %}

                            <div x-show="userMenu.isExpanded" x-on:click.away="userMenu.isExpanded = false"
                                class="absolute right-0 z-10 w-48 bg-white rounded shadow-md top-14">
                                <ul class="flex flex-col gap-2">
                                    <!-- <li>
                                        <a href="#"
                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profile</a>
                                    </li>
                                    <li>
                                        <a href="#"
                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Settings</a>
                                    </li> -->
                                    <li>
                                        <a href="{% url 'logout' %}"
                                            class="block w-full px-4 py-2 text-sm text-left text-gray-700 hover:bg-gray-100">
                                            Logout
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
            <div class="py-7 px-5">
                {% block content %}
                {% endblock content %}
            </div>
        </div>
    </div>

    {% comment %} {% include "web/partials/footer.html" %} {% endcomment %}

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <!-- iziToast -->
    <script src="https://cdn.jsdelivr.net/npm/izitoast@1.4.0/dist/js/iziToast.min.js"></script>

    <!-- font awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!--  jQuery -->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    {% comment %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script> {% endcomment %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- SWEET ALERT -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.10.5/sweetalert2.min.js"
        integrity="sha512-WHVh4oxWZQOEVkGECWGFO41WavMMW5vNCi55lyuzDBID+dHg2PIxVufsguM7nfTYN3CEeQ/6NB46FWemzpoI6Q=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <!-- INPUT MASK -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/5.0.6/jquery.inputmask.min.js"></script>

    <!-- FULL CALENDAR -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.14/index.global.min.js"></script>

    <script>
        window.setTimeout(function () {
            $("#flashdata").fadeTo(3000, 0).slideUp(3000, function () {
                $(this).remove();
            });
        }, 3000);

        function formatRupiah(angka) {
            var reverse = angka.toString().split('').reverse().join('');
            var ribuan = reverse.match(/\d{1,3}/g);
            var formatted = ribuan.join('.').split('').reverse().join('');
            return 'Rp ' + formatted;
        }

        function formatDollar(angka) {
            angka = parseFloat(angka).toFixed(2);

            var parts = angka.toString().split('.');
            var reverse = parts[0].split('').reverse().join('');
            var dollar = reverse.match(/\d{1,3}/g);
            var formatted = dollar.join(',').split('').reverse().join('');

            if (parts.length > 1) {
                formatted += '.' + parts[1];
            }

            return formatted;
        }


        $(document).ready(function () {
            $.ajaxSetup({
                headers: {
                    "X-CSRFTOKEN": "{{ csrf_token }}"
                },
            });
        });
        function toggleDropdown() {
            var dropdownMenu = document.getElementById("dropdownMenu");
            dropdownMenu.classList.toggle("hidden");
        }


        $(".money").inputmask({
            alias: "numeric",
            placeholder: " ",
            digits: true,
            groupSeparator: ',',
            autoGroup: true,
            removeMaskOnSubmit: true,
            rightAlign: false,
            // removeDecimal: true,
        });

        $(".moneys").inputmask({
            alias: "numeric",
            placeholder: " ",
            groupSeparator: ',',
            autoGroup: true,
            removeMaskOnSubmit: true,
            rightAlign: false,
            decimal: false,
        });

        $(".payment_money").inputmask({
            alias: "numeric",
            placeholder: " ",
            groupSeparator: ',',
            autoGroup: true,
            removeMaskOnSubmit: true,
            rightAlign: true,
            decimal: false,
        });

        $(".payment_money_decimal").inputmask({
            alias: "decimal",
            placeholder: " ",
            groupSeparator: ',',
            autoGroup: true,
            removeMaskOnSubmit: true,
            rightAlign: true,
            digits: 2,
            digitsOptional: false,
            radixPoint: '.',
        });

        $(".angka").inputmask({
            alias: "currency",
            placeholder: " ",
            groupSeparator: '.',
            autoGroup: true,
            removeMaskOnSubmit: true,
            rightAlign: false,
        });

        $(".presentase").inputmask({
            alias: "numeric",
            groupSeparator: '.',
            autoGroup: true,
            removeMaskOnSubmit: true,
            rightAlign: false,
            max: 99 // Maksimum 2 digit
        });

        $(".presentases").inputmask({
            alias: "numeric",
            // groupSeparator: '.',
            decimal: false,
            autoGroup: true,
            removeMaskOnSubmit: true,
            rightAlign: false,
            max: 100 // Maksimum 2 digit
        });

        $(".angkaBulan").inputmask({
            alias: 'numeric',
            placeholder: '',
            digits: 0,
            // groupSeparator: '',
            autoGroup: false,
            rightAlign: false,
            removeMaskOnSubmit: true,
            suffix: ' Bulan',
        });

        $(".bank").inputmask({
            mask: "9",
            repeat: 16,
            greedy: false,
            definitions: {
                "9": {
                    validator: "[0-9]",
                    cardinality: 1
                }
            }
        });

    </script>

    {% block javascripts %}
    {% endblock javascripts %}
</body>

</html>